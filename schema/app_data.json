{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AppData",
  "type": "object",
  "required": [
    "name",
    "path"
  ],
  "properties": {
    "items": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/AppDataItem"
      }
    },
    "name": {
      "description": "The name of the app",
      "type": "string"
    },
    "path": {
      "description": "The path at which this app is installed",
      "type": "string"
    },
    "schedule": {
      "description": "Request that the platform run the app at the specified schedule, if it does not have its own methods of scheduling updates",
      "type": "array",
      "items": {
        "$ref": "#/definitions/AppDataSchedule"
      }
    },
    "stateful": {
      "description": "If false, the app does not keep its own state, so the platform should do a closer diff to see if an item has changed since the last write If true, the app can just check the updated timestamp to see if an item has changed",
      "default": false,
      "type": "boolean"
    }
  },
  "definitions": {
    "AppDataItem": {
      "type": "object",
      "required": [
        "html",
        "id",
        "updated"
      ],
      "properties": {
        "data": {
          "description": "Extra structured data for use by chart or other formatters",
          "type": "object",
          "additionalProperties": true
        },
        "dismissible": {
          "description": "Whether the item can be dismissed by the viewer",
          "default": false,
          "type": "boolean"
        },
        "html": {
          "description": "HTML to display for the item's label",
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "notify": {
          "description": "Notifications for this item",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Notification"
          }
        },
        "updated": {
          "description": "Date the item was last updated",
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "AppDataSchedule": {
      "type": "object",
      "required": [
        "cron"
      ],
      "properties": {
        "arguments": {
          "description": "Arguments to pass to the app",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "cron": {
          "description": "The cron schedule for the app",
          "type": "string"
        }
      }
    },
    "Notification": {
      "type": "object",
      "required": [
        "html",
        "id"
      ],
      "properties": {
        "html": {
          "type": "string"
        },
        "icon": {
          "type": [
            "string",
            "null"
          ]
        },
        "id": {
          "type": "string"
        }
      }
    }
  }
}
